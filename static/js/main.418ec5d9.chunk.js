(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);a(64),a(89);var l=a(0),n=a.n(l),o=a(31),r=a.n(o),c=a(6),i=a.n(c),s=a(56),u=a(57),p=a(61),d=a(58),m=a(62),E=a(1),h=(a(55),function(e){var t=e.id,a=e.installApp,l=e.fetchedUser;return n.a.createElement(E.Panel,{id:t},n.a.createElement(E.PanelHeader,null,"\u041c\u0430\u0433\u043d\u0438\u0442 \u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"),l&&n.a.createElement(E.Group,{title:"User Data Fetched with VK Connect"},n.a.createElement(E.ListItem,{before:l.photo_200?n.a.createElement(E.Avatar,{src:l.photo_200}):null,description:l.city&&l.city.title?l.city.title:""},"".concat(l.first_name," ").concat(l.last_name))),n.a.createElement(E.Group,{title:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"},n.a.createElement(E.Div,null,n.a.createElement(E.Button,{size:"xl",level:"2",onClick:a,"data-to":"persik"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"))))}),g=a(59),f=a.n(g),v=(a(112),a(60)),b=a.n(v),k=a(32),A=a.n(k),y=Object(E.platform)(),D=function(e){return n.a.createElement(E.Panel,{id:e.id},n.a.createElement(E.PanelHeader,{left:n.a.createElement(E.HeaderButton,{onClick:e.go,"data-to":"home"},y===E.IOS?n.a.createElement(b.a,null):n.a.createElement(A.a,null))},"Persik"),n.a.createElement("img",{className:"Persik",src:f.a,alt:"Persik The Cat"}))},P=function(e){var t=e.id,a=e.authApp,l=e.fetchedUser;return n.a.createElement(E.Panel,{id:t},n.a.createElement(E.PanelHeader,null,"\u041c\u0430\u0433\u043d\u0438\u0442 \u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"),l&&n.a.createElement(E.Group,{title:"User Data Fetched with VK Connect"},n.a.createElement(E.ListItem,{before:l.photo_200?n.a.createElement(E.Avatar,{src:l.photo_200}):null,description:l.city&&l.city.title?l.city.title:""},"".concat(l.first_name," ").concat(l.last_name))),n.a.createElement(E.Group,{title:"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438"},n.a.createElement(E.Div,null,n.a.createElement("text",null,n.a.createElement(E.Div,null,"\u041f\u0440\u0438\u0432\u0435\u0442!")))),n.a.createElement(E.Group,{title:"\u0414\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043d\u0443\u0436\u0435\u043d \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443"},n.a.createElement(E.Div,null,n.a.createElement(E.Button,{size:"xl",level:"2",onClick:a,"data-to":"persik"},"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"))))},G=(Object(E.platform)(),function(e){var t=e.id,a=e.installApp,l=e.authApp,o=e.grouptoken,r=e.groupids,c=(e.getapi,e.fetchedGroup);return n.a.createElement(E.Panel,{id:t},n.a.createElement(E.PanelHeader,null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),null===o&&n.a.createElement(E.Group,{title:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0413\u0440\u0443\u043f\u043f\u044b"},n.a.createElement(E.Div,null,n.a.createElement(E.Button,{size:"xl",level:"2",onClick:l,"data-to":"persik"},"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"))),o&&n.a.createElement(E.Group,{title:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0413\u0440\u0443\u043f\u043f\u044b"},n.a.createElement(E.Div,null,null!==c&&n.a.createElement(E.ListItem,{before:c.photo_200?n.a.createElement(E.Avatar,{src:c.photo_200}):null,description:"vk.com/".concat(c.screen_name)},"".concat(c.name))),n.a.createElement(E.Div,null,n.a.createElement(E.Button,{size:"xl",level:"3",onClick:a,"data-to":"instal-after-token"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0412 \u0434\u0440\u0443\u0433\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e!"))),n.a.createElement(E.Group,{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0412\u0438\u0434\u0436\u0435\u0442\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435: ".concat(r)},n.a.createElement(E.Div,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0412\u0438\u0434\u0436\u0435\u0442\u0430"),n.a.createElement(E.Div,null,n.a.createElement("text",null,"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u0435\u043c, \u0443 \u043a\u043e\u0433\u043e \u0435\u0441\u0442\u044c \u0434\u0440\u0443\u0437\u044c\u044f \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435"),n.a.createElement(E.Div,null,n.a.createElement(E.FormLayout,null,n.a.createElement(E.FormLayoutGroup,{top:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0412\u0438\u0434\u0436\u0435\u0442\u0430"},n.a.createElement(E.Input,{type:"text",defaultValue:"{\u041f\u041e\u0414\u041f\u0418\u0421\u0427\u0418\u041a|\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0447\u0442\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043b\u0441\u044f|\u0422\u0432\u043e\u0438 \u0434\u0440\u0443\u0437\u044c\u044f \u0443\u0436\u0435 \u0442\u0443\u0442}"}))),n.a.createElement(E.Div,null,n.a.createElement(E.Div,null,"\u0424\u043e\u0442\u043e",n.a.createElement(E.Div,null,"\u0418\u043c\u044f"),n.a.createElement(E.Div,null,n.a.createElement(E.FormLayout,null,n.a.createElement(E.FormLayoutGroup,null,n.a.createElement(E.Input,{type:"text",defaultValue:"\u0414\u0430-\u0434\u0430, \u0418\u043c\u0435\u043d\u043d\u043e \u0442\u044b"}))))),n.a.createElement(E.Div,null,"\u0424\u043e\u0442\u043e",n.a.createElement(E.Div,null,"\u0414\u0440\u0443\u0433 1"),n.a.createElement(E.Div,null,n.a.createElement(E.FormLayout,null,n.a.createElement(E.FormLayoutGroup,null,n.a.createElement(E.Input,{type:"text",defaultValue:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043b\u0441\u044f \u043d\u0430 \u043d\u0430\u0441"}))))),n.a.createElement(E.Div,null,"\u0424\u043e\u0442\u043e",n.a.createElement(E.Div,null,"\u0414\u0440\u0443\u0433 2"),n.a.createElement(E.Div,null,n.a.createElement(E.FormLayout,null,n.a.createElement(E.FormLayoutGroup,null,n.a.createElement(E.Input,{type:"text",defaultValue:"\u0422\u043e\u0436\u0435 \u0441 \u043d\u0430\u043c\u0438"}))))))),n.a.createElement(E.Div,null))))}),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.installApp=function(e){console.log("\u0413\u043b\u0430\u0432\u043d\u044b\u0439",e),i.a.send("VKWebAppAddToCommunity",{}),i.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppAddToCommunityResult":a.setState({activePanel:"groups",groupids:e.detail.data.group_id}),console.log("\u0442\u0443\u0442 \u0434\u0435\u0442\u0430\u043b\u0438",e.detail.data.group_id);break;default:console.log(e.detail.type)}})},a.authApp=function(e){console.log("\u0413\u043b\u0430\u0432\u043d\u044b\u0439",e),i.a.send("VKWebAppGetAuthToken",{app_id:7047197,scope:"groups,stats"}),i.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppAccessTokenReceived":a.setState({activePanel:"groups",grouptoken:e.detail.data.access_token}),console.log("\u0442\u0443\u0442 \u0434\u0435\u0442\u0430\u043b\u0438",e.detail.data.access_token),console.log("this.groupids",a.state.groupids),console.log("this.grouptoken",a.state.grouptoken),i.a.send("VKWebAppCallAPIMethod",{method:"groups.getById",params:{group_id:a.state.groupids,v:"5.101",access_token:a.state.grouptoken}}),i.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppCallAPIMethodResult":a.setState({activePanel:"groups",fetchedGroup:e.detail.data.response[0]}),console.log("\u0442\u0443\u0442 \u0434\u0435\u0442\u0430\u043b\u0438",e.detail.data.response[0]);break;default:console.log(e.detail.type),console.log(e.detail)}});break;default:console.log(e.detail.type)}})},a.getapi=function(e){console.log(a.state.groupids),console.log(a.state.grouptoken),i.a.send("VKWebAppCallAPIMethod",{method:"groups.getById",params:{group_id:a.state.groupids,v:"5.101",access_token:a.state.grouptoken}}),i.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppCallAPIMethodResult":a.setState({activePanel:"groups",fetchedGroup:e.detail.data}),console.log("\u0442\u0443\u0442 \u0434\u0435\u0442\u0430\u043b\u0438",e.detail.data);break;default:console.log(e.detail.type),console.log(e.detail)}})},a.state={activePanel:"groups",fetchedUser:null,grouptoken:null,groupids:null,userid:null,fetchedGroup:null,token:"b22bbd168f3ac920a04aafc823ad9cc6086a7204dd3d53d312dadbfd87f818553509702ab9cab1bf0d41c"},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;i.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data,userid:t.detail.data.id}),console.log(t.detail.data.id),console.log(t.detail.data);break;default:console.log(t.detail.type)}}),i.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){return n.a.createElement(E.View,{activePanel:this.state.activePanel},n.a.createElement(P,{id:"auth",fetchedUser:this.state.fetchedUser,authApp:this.authApp}),n.a.createElement(h,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go,installApp:this.installApp}),n.a.createElement(D,{id:"persik",go:this.go}),n.a.createElement(G,{id:"groups",go:this.go,fetchedUser:this.state.fetchedUser,authApp:this.authApp,installApp:this.installApp,grouptoken:this.state.grouptoken,groupids:this.state.groupids,fetchedGroup:this.state.fetchedGroup,getapi:this.getapi}))}}]),t}(n.a.Component);i.a.send("VKWebAppInit",{}),r.a.render(n.a.createElement(_,null),document.getElementById("root"))},59:function(e,t,a){e.exports=a.p+"static/media/persik.4e1ec840.png"},63:function(e,t,a){e.exports=a(113)}},[[63,1,2]]]);
//# sourceMappingURL=main.418ec5d9.chunk.js.map